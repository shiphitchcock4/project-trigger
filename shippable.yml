# Language setting
language: node_js

# Version number
node_js:
  - 0.12
  
env:
  global:
    - PROJECT_ID="56cdeca3c77dae78a8e9aafd" 
    - secure: huHL0SuFte5RgputvPjFTJU1vmQpuOa+DpV4NIOxfexKIdxuI1i9KQy29ZmxMdWyIne/Qnv9yiMq6+FxeLNVbRKHkc+CFjqwC7WQIxtljCtaHMUA85eNbcsgkl39Qe4AIFiwLW7vQSzI0mb2+8cLOpUxrUnr6EUpTehdK6osOdX5c63HdshiDQ9/Y347ma5f4bTUfPUaJIR3xFeE0Omus8xQmqO1ygvKsP6mUVLwrBbD5YBw8Npt78LSxU8Vk4NvxF4YF0kDosHa4TRRwjO4ojI7q0EJzW2A6drTbIhgKxFkZj9s3WdqMYgT6/BZur4KtNMkxpR/9b07oZ6ORO6V2A== 
    
build:
  ci:
  - echo $PROJECT_ID
 # - JSON='{"projectId":"$PROJECT_ID","branchName":"master","type":"push"}'
  - 'curl -H "Authorization: apiToken $apiToken " -H "Content-Type: application/json" -d "{\"projectId\": \"$PROJECT_ID\"}" https://apibeta.shippable.com/projects/$PROJECT_ID/newBuild'

#  - 'curl -H "Content-Type: application/json" -H "Authorization: $SHIP_TOKEN" -X POST -d $JSON https://apibeta.shippable.com/projects/$PROJECT_ID/newBuild'

integrations:
  
  notifications:
    - integrationName: ship-slack
      type: slack
      recipients:
        - "#random" 
        - "#public-chnl"
      on_start: always
      on_success: always
      on_failure: always
      
    - integrationName: "slack-testing"
      type: slack
      recipients:
        - "#notifications"

      on_failure: always
      on_start: always
      on_success: always
      
